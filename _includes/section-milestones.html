{% assign ms = site.data.milestones %}

<!-- change the class to: variant-glass | variant-soft | variant-rail | variant-chip -->
<section id="timeline" class="variant-soft" style="padding:64px 0;">
  <style>
    /* ---------- tokens ---------- */
    #timeline{
      --bg:#ffffff; --card:#ffffff; --ink:#0f0f10; --muted:#6b6f76;
      --line:#e8eaee; --accent:#2b6df3; --shadow:0 12px 28px rgba(0,0,0,.08);
    }
    @media (prefers-color-scheme: dark){
      #timeline{
        --bg:#0b0d0f; --card:#121418; --ink:#f2f4f7; --muted:#98a2b3;
        --line:#1f242b; --accent:#6aa2ff; --shadow:0 16px 40px rgba(0,0,0,.45);
      }
    }

    /* ---------- layout ---------- */
    #timeline .wrap{max-width:1100px;margin:0 auto;padding:0 18px;}
    #timeline .head{margin:0 0 20px 0;}
    #timeline .sub{margin:6px 0 0 0;color:var(--muted)}
    #timeline .stack{position:relative;}
    #timeline .axis{
      position:absolute;left:50%;top:0;bottom:0;width:3px;
      background:linear-gradient(180deg,transparent 0,var(--line) 12%,var(--line) 88%,transparent 100%);
      transform:translateX(-50%);
    }

    #timeline .row{position:relative;display:grid;grid-template-columns:1fr 1fr;gap:28px;margin:26px 0;}
    #timeline .spine{
      position:absolute;left:50%;top:32px;width:14px;height:14px;border-radius:50%;
      background:var(--accent);transform:translateX(-50%);
      box-shadow:0 0 0 6px color-mix(in srgb,var(--accent) 15%,transparent);
    }
    #timeline .slot{position:relative}
    /* connector from spine to card */
    #timeline .slot::before{content:"";position:absolute;top:39px;width:28px;height:2px;background:var(--line);}
    #timeline .row:nth-child(odd) .slot.left::before  { right:-14px; }
    #timeline .row:nth-child(odd) .slot.right::before { left:-14px; }
    #timeline .row:nth-child(even) .slot.left::before { right:-14px; }
    #timeline .row:nth-child(even) .slot.right::before{ left:-14px; }

    /* alternate placement */
    #timeline .row:nth-child(odd) .slot.left  { grid-column:1; }
    #timeline .row:nth-child(odd) .slot.right { grid-column:2; }
    #timeline .row:nth-child(even) .slot.left { grid-column:2; }
    #timeline .row:nth-child(even) .slot.right{ grid-column:1; }

    #timeline .badge{display:inline-block;border-radius:999px;padding:4px 10px;font-size:.82rem;margin:0 0 10px 0;background:var(--ink);color:var(--bg)}
    #timeline h3{margin:0 0 6px 0;color:var(--ink);font-size:1.08rem;}
    #timeline p{margin:0 0 10px 0;line-height:1.68;color:var(--muted)}
    #timeline .cta{display:inline-block;font-size:.92rem;padding:6px 10px;border-radius:10px;border:1px solid var(--ink);color:var(--ink);}

    /* ---------- variants ---------- */

    /* A) GLASS */
    #timeline.variant-glass .card{
      position:relative;
      background:color-mix(in srgb,var(--card) 78%, transparent);
      border:1px solid color-mix(in srgb,var(--accent) 24%, var(--line));
      border-radius:18px;padding:18px 18px 16px 18px;
      backdrop-filter:saturate(140%) blur(8px);
      box-shadow:var(--shadow);
      transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
    }
    #timeline.variant-glass .card::after{
      content:"";position:absolute;inset:0;border-radius:inherit;
      pointer-events:none;
      background:linear-gradient(145deg, color-mix(in srgb,var(--accent) 20%, transparent), transparent 35%);
      opacity:.35;
    }
    #timeline.variant-glass .card:hover{
      transform:translateY(-3px);
      box-shadow:0 22px 50px rgba(0,0,0,.14);
      border-color:color-mix(in srgb,var(--accent) 38%, var(--line));
    }

    /* B) SOFT */
    #timeline.variant-soft .card{
      background:var(--card); border:1px solid var(--line); border-radius:18px;
      padding:18px 18px 16px 18px; box-shadow:var(--shadow); position:relative; overflow:hidden;
      transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    #timeline.variant-soft .card::before{
      content:""; position:absolute; left:0; right:0; top:0; height:4px;
      background:linear-gradient(90deg, var(--accent), color-mix(in srgb,var(--accent) 40%, transparent));
    }
    #timeline.variant-soft .card:hover{
      transform:translateY(-2px); box-shadow:0 18px 44px rgba(0,0,0,.12);
      border-color:color-mix(in srgb,var(--accent) 25%, var(--line));
    }

    /* C) RAIL */
    #timeline.variant-rail .card{
      display:grid; grid-template-columns:10px 1fr; gap:14px;
      background:var(--card); border:1px solid var(--line); border-radius:16px; padding:16px;
      box-shadow:var(--shadow); transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    #timeline.variant-rail .card .rail{border-radius:8px;background:linear-gradient(180deg,var(--accent), color-mix(in srgb,var(--accent) 30%, transparent));}
    #timeline.variant-rail .card:hover{transform:translateY(-2px); box-shadow:0 18px 44px rgba(0,0,0,.12); border-color:color-mix(in srgb,var(--accent) 25%, var(--line));}

    /* D) CHIP */
    #timeline.variant-chip .card{
      background:var(--card); border:1px solid var(--line); border-radius:14px;
      padding:14px 14px 12px 14px; box-shadow:0 8px 18px rgba(0,0,0,.06);
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    #timeline.variant-chip .badge{background:color-mix(in srgb,var(--accent) 16%, var(--ink)); color:var(--bg);}
    #timeline.variant-chip .card:hover{transform:translateY(-1px); box-shadow:0 14px 28px rgba(0,0,0,.10); border-color:color-mix(in srgb,var(--accent) 22%, var(--line));}

    /* rail variant: tighten heading spacing a bit */
    #timeline.variant-chip h3, #timeline.variant-rail h3{font-size:1.04rem;margin-bottom:4px;}

    /* ---------- responsiveness ---------- */
    @media (max-width: 900px){
      #timeline .axis{left:24px;transform:none;width:2px;background:var(--line)}
      #timeline .row{grid-template-columns:1fr;gap:16px;margin:22px 0}
      #timeline .spine{left:24px;transform:none;top:18px}
      #timeline .slot{padding-left:24px}
      #timeline .slot::before{left:-24px;width:24px}
    }
    @media (max-width: 560px){
      #timeline{padding:48px 0;}
      #timeline .wrap{padding:0 14px;}
      #timeline .card{border-radius:16px}
      #timeline h3{font-size:1.02rem}
    }
    @media (prefers-reduced-motion: reduce){
      #timeline .card{transition:none}
      #timeline .card:hover{transform:none; box-shadow:var(--shadow)}
    }
  </style>

  <div class="wrap">
    <header class="head">
      <h2 style="margin:0;">Milestones</h2>
      <p class="sub">Key steps, launches, and transitions.</p>
    </header>

    <div class="stack">
      <div class="axis" aria-hidden="true"></div>

      {% for it in ms.items %}
      <div class="row">
        <div class="spine" aria-hidden="true"></div>

        <!-- Left/right alternates automatically -->
        <div class="slot left">
          <article class="card">
            <!-- rail-only decorative bar -->
            {% if page.nil %}{% endif %}
            <div class="rail" aria-hidden="true"></div>
            <span class="badge">{{ it.date }}</span>
            <h3>{{ it.title }}</h3>
            <p>{{ it.text }}</p>
            {% if it.link %}<a href="{{ it.link }}" class="cta">Details</a>{% endif %}
          </article>
        </div>

        <div class="slot right"></div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

