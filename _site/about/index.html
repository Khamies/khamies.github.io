<!DOCTYPE html>
<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="HandheldFriendly" content="true">
  <meta name="author" content="bslthemes" />
  <meta name="google-site-verification" content="i66arYQi6Cbim0Iay-AOYPF8PnpuUDhsfJ3Si0UcVsY" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>About | Waleed Khamies Applied AI Scientist at NTWIST University of Alberta</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="About" />
<meta name="author" content="Waleed Khamies" />
<meta property="og:locale" content="en" />
<meta name="description" content="Waleed Khamies is an Applied AI Scientist at NTWIST, where he designs and deploys AI-powered scheduling and automation solutions for the manufacturing industry. His expertise spans reinforcement learning, self-supervised learning, and constraint optimization to improve throughput and efficiency in real-world operations. Alongside his professional role, he pursues graduate research at the University of Alberta, focusing on decision-making systems and applied machine learning." />
<meta property="og:description" content="Waleed Khamies is an Applied AI Scientist at NTWIST, where he designs and deploys AI-powered scheduling and automation solutions for the manufacturing industry. His expertise spans reinforcement learning, self-supervised learning, and constraint optimization to improve throughput and efficiency in real-world operations. Alongside his professional role, he pursues graduate research at the University of Alberta, focusing on decision-making systems and applied machine learning." />
<link rel="canonical" href="http://localhost:4000/about/" />
<meta property="og:url" content="http://localhost:4000/about/" />
<meta property="og:site_name" content="Waleed Khamies Applied AI Scientist at NTWIST University of Alberta" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="About" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebSite","author":{"@type":"Person","name":"Waleed Khamies"},"description":"Waleed Khamies is an Applied AI Scientist at NTWIST, where he designs and deploys AI-powered scheduling and automation solutions for the manufacturing industry. His expertise spans reinforcement learning, self-supervised learning, and constraint optimization to improve throughput and efficiency in real-world operations. Alongside his professional role, he pursues graduate research at the University of Alberta, focusing on decision-making systems and applied machine learning.","headline":"About","name":"Waleed Khamies","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/me/me.png"},"name":"Waleed Khamies"},"sameAs":["https://github.com/Khamies","https://twitter.com/khamiesw","https://linkedin.com/in/khamiesw"],"url":"http://localhost:4000/about/"}</script>
<!-- End Jekyll SEO tag -->

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Waleed Khamies",
    "alternateName": "Waleed Khamies",
    "url": "https://waleed.khamies.ca/about/",
    "image": "https://waleed.khamies.ca/assets/img/me/me.png",
    "jobTitle": "Applied Machine Learning Scientist",
    "worksFor": [
      {
        "@type": "Organization",
        "name": "NTWIST"
      },
      {
        "@type": "Organization",
        "name": "University of Alberta"
      }
    ],
    "sameAs": [
      "https://github.com/Khamies",
      "https://twitter.com/khamiesw",
      "https://www.linkedin.com/in/khamiesw/",
      "https://scholar.google.com/citations?user=YZgQGQ0AAAAJ&hl=en"
    ]
  }
  </script>
  

  <!-- Fonts -->
  <link rel="dns-prefetch" href="//fonts.googleapis.com" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700;800;900&display=swap" type="text/css" media="all" />
  
  <!-- Load CSS -->
  <link rel="stylesheet" href="/assets/plugins/bootstrap/bootstrap.css" />
  <link rel="stylesheet" href="/assets/plugins/swiper/swiper.css" />
  <link rel="stylesheet" href="/assets/plugins/fancybox/jquery.fancybox.min.css" />
  <link rel="stylesheet" href="/assets/plugins/font-awesome/css/fontawesome.min.css" />
  <link rel="stylesheet" href="/assets/css/syntax.css" />
  <link rel="stylesheet" href="/assets/css/style.css">

  <!--[if lt IE 9]>
  <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- Favicons -->
  <link rel="shortcut icon" href="/assets/images/favicons/favicon.ico"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Waleed Khamies | Applied AI Scientist at NTWIST | University of Alberta" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-F1RDD0RJ2V"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-F1RDD0RJ2V');
</script>

</head>



  <body class="page home"><!-- preloader start -->
<div class="preloader"> 
	<div>
	<div class="container">
	<div class="squarebox one"></div>
	<div class="squarebox two"></div>
	<div class="squarebox three"></div>
	<div class="squarebox two"></div>
	<div class="squarebox three"></div>
	<div class="squarebox four"></div>
	<div class="squarebox three"></div>
	<div class="squarebox four"></div>
	<div class="squarebox five"></div>
	</div>
	</div>
</div>
<!-- preloader end -->







<header class="header">
	<div class="container">
		<div class="nav">
			<div class="d-flex align-items-center">
			<div class="logo">
				<a href="http://localhost:4000" title="Waleed Khamies">
				<img alt="logo" src="/assets/img/logo.png">
				</a>
			</div>
			<ul class="menu">
				
				
				<li class="menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="/">Home</a>
					
				</li>
				
				
				<li class="menu-item current-menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="/about/">About</a>
					
				</li>
				
				
				<li class="menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="/news/2025-01-07-values-and-principles">Values & Principles</a>
					
				</li>
				
				
				<li class="menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="/books/">Books</a>
					
				</li>
				
				
				<li class="menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="/research/">Research</a>
					
				</li>
				
				
				<li class="menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="/projects/">Projects</a>
					
				</li>
				
				
				<li class="menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="https://shop.waleed.khamies.ca">Store</a>
					
				</li>
				
				
				<li class="menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="/news/">News</a>
					
				</li>
				
				
				<li class="menu-item">
					<a class="splitting-text-anim-2" data-splitting="chars" href="/contact/">Contact</a>
					
				</li>
				
			</ul>
			</div>
			<div>
				<form id="searchForm" class="search-form" method="GET" action="/search.html">
					<input type="text" class="input search-field" id="search-input" value="" />
					<button type="reset" class="search" id="search-btn"></button>
					<ul id="results-container"></ul>
				</form>
				<a href="/contact/" class="themebtu">Contact</a>
			</div>
			<div class="bar-menu">
			<i class="fa-solid fa-bars"></i>
			</div>
		</div>
	</div>
	<div class="mobile-nav hmburger-menu" id="mobile-nav" style="display:block;">
		<div class="res-log">
			<a href="http://localhost:4000" title="Waleed Khamies">
			<img src="http://localhost:4000/assets/img/logo.png" alt="logo">
			</a>
		</div>
		<ul>
			
			
			<li class="menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="/">Home</a>
				
			</li>
			
			
			<li class="menu-item current-menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="/about/">About</a>
				
			</li>
			
			
			<li class="menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="/news/2025-01-07-values-and-principles">Values & Principles</a>
				
			</li>
			
			
			<li class="menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="/books/">Books</a>
				
			</li>
			
			
			<li class="menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="/research/">Research</a>
				
			</li>
			
			
			<li class="menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="/projects/">Projects</a>
				
			</li>
			
			
			<li class="menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="https://shop.waleed.khamies.ca">Store</a>
				
			</li>
			
			
			<li class="menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="/news/">News</a>
				
			</li>
			
			
			<li class="menu-item">
				<a class="splitting-text-anim-2" data-splitting="chars" href="/contact/">Contact</a>
				
			</li>
			
		</ul>
		<a href="JavaScript:void(0)" id="res-cross"></a>
	</div>
</header>
<!-- Wrapper -->
    <div class="wrapper">
      





<section class="splash-area-section" style="background-image: url('http://localhost:4000/assets/img/background.png')">
	<div class="container">
	  <div class="splash-area">
		<h2>Waleed Khamies</h2>
		<span>Who Am I?</span>
	  </div>
	</div>
</section>





	


<section id="about" style="padding:64px 0;">
<style>
  /* ====== layout ====== */
  #about .wrap{
    display:flex;align-items:flex-start;gap:48px;
    max-width:1180px;margin:0 auto;padding:0 16px;
  }
  #about .portrait{flex:0 0 auto;text-align:center;}
  #about .portrait img{
    width:clamp(140px, 26vw, 320px);
    height:clamp(140px, 26vw, 320px);
    object-fit:cover;display:block;border-radius:50%;
    filter:drop-shadow(0 12px 28px rgba(0,0,0,.12));
    margin:0 auto 18px auto;background:transparent;
  }
  #about .portrait .social-links{display:flex;justify-content:center;gap:16px;flex-wrap:wrap;}
  #about .portrait .social-links a{color:var(--ink,#0f0f10);font-size:1.35rem;transition:color .2s;}
  #about .portrait .social-links a:hover{color:var(--accent,#2b6df3);}

  #about .text{flex:1 1 0;min-width:0;}
  #about .text p{line-height:1.7;max-width:900px;margin:0 0 .9rem 0;}
  #about .actions{display:flex;gap:10px;flex-wrap:wrap;}

  /* ====== responsive breakpoints ====== */
  @media (max-width: 1200px){
    #about .wrap{gap:36px;}
  }
  @media (max-width: 992px){
    #about{padding:40px 0;}
    #about .wrap{flex-direction:column;gap:24px;align-items:center;}
    #about .text{text-align:center;}
    #about .actions{justify-content:center;}
  }
  @media (max-width: 768px){
    #about .text p{max-width:unset;}
  }
  @media (max-width: 520px){
    #about .wrap{gap:20px;}
    #about .actions a{width:100%;text-align:center;}
  }

  /* ====== modal ====== */
  #cv-modal{
    position:fixed;inset:0;display:none;align-items:center;justify-content:center;
    background:rgba(0,0,0,.42);z-index:9999;
    min-height:100dvh;
    padding:env(safe-area-inset-top,12px) clamp(8px, 3vw, 16px) env(safe-area-inset-bottom,12px);
  }
  #cv-modal .sheet{
    background:var(--card,#fff);color:var(--ink,#0f0f10);
    border-radius:14px;
    width:min(560px, 100%);
    max-width:min(92vw, 560px);
    padding:clamp(14px, 2.5vw, 20px);
    border:1px solid var(--line,#e8eaee);box-shadow:0 18px 60px rgba(0,0,0,.2);
    max-height:min(86dvh, 680px);overflow:auto;
    overscroll-behavior:contain;
  }
  #cv-modal .hdr{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:8px;}
  #cv-modal .close{background:none;border:0;font-size:1.2rem;cursor:pointer;line-height:1;padding:6px;}
  #cv-modal p.sub{margin:.25rem 0 1rem 0;opacity:.85}

  /* ====== form elements ====== */
  #cv-form .field{margin-bottom:.75rem;}
  #cv-form label{display:block;font-weight:600;margin:0 0 .25rem 0;}
  #cv-form input, #cv-form select{
    width:100%;
    padding:clamp(.55rem, 1.2vw, .7rem) clamp(.65rem, 1.6vw, .85rem);
    border-radius:10px;border:1px solid #e1e4e8;
    background:transparent;color:inherit;outline:none;min-height:44px;
    font-size:clamp(.95rem, 1vw, 1rem);
  }
  #cv-form input:focus, #cv-form select:focus{border-color:#2b6df3;box-shadow:0 0 0 3px rgba(43,109,243,.15);}
  #cv-form small.help{display:block;color:#6b6f76;margin-top:.25rem;font-size:.85rem;}
  #cv-form small.err{display:block;color:#c62828;margin-top:.25rem;font-size:.9rem;}

  /* Responsive row: 2 columns on wide, auto-stack under ~520px */
  #cv-form .row{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: clamp(10px, 2vw, 14px);
    align-items:start;
  }
  #cv-form .row .field{min-width:0;} /* allow shrinking on small screens */

  #cv-msg{min-height:20px;font-size:.95rem;margin:.25rem 0 .75rem 0;}

  #cv-legal{
    font-size:clamp(.85rem, .9vw, .95rem);
    color:#6b6f76;margin:.5rem 0 .25rem 0;
  }
  #cv-legal label{display:flex;gap:12px;align-items:flex-start;cursor:pointer;}
  #cv-legal label span{line-height:1.5;}
  #cv-legal input[type="checkbox"]{
    width:clamp(20px, 2.6vw, 32px);
    height:clamp(20px, 2.6vw, 32px);
    margin-top:.2rem;accent-color:#2b6df3;cursor:pointer;flex:0 0 auto;
    outline:none;
  }
  #cv-legal input[type="checkbox"]:focus{
    outline:none;box-shadow:0 0 0 2px rgba(43,109,243,.4);border-radius:4px;
  }

  #cv-form .actions{
    display:flex;align-items:center;gap:10px;margin-top:.5rem;flex-wrap:wrap;
  }
  #cv-form .actions .themebtu{
    min-height:44px;
    padding:clamp(.55rem, 1.2vw, .7rem) clamp(.9rem, 2vw, 1.1rem);
  }
  @media (max-width: 520px){
    #cv-form .actions .themebtu{width:100%;}
  }

  /* Smallest phones: a touch more breathing room */
  @media (max-width: 380px){
    #cv-modal .sheet{max-width:94vw;padding:14px;}
  }

  /* dark mode */
  @media (prefers-color-scheme:dark){
    #cv-modal .sheet{background:#121418;color:#f2f4f7;border-color:#1f242b;}
    #cv-form input, #cv-form select{border-color:#2a3038;}
    #cv-form small.help{color:#98a2b3;}
  }

  /* reduce motion preference */
  @media (prefers-reduced-motion: reduce){
    *{scroll-behavior:auto;transition:none !important;}
  }
</style>


  <div class="wrap">
    <!-- Portrait -->
    <div class="portrait">
      <img alt="Portrait of Waleed Khamies" src="http://localhost:4000/assets/img/me/me.png">
      <div class="social-links" aria-label="Social profiles">
        <a href="mailto:waleed@khamies.ca" title="Email"><i class="fa-solid fa-envelope" aria-hidden="true"></i></a>
        <a href="https://scholar.google.com/citations?user=YZgQGQ0AAAAJ&hl=en" target="_blank" rel="noopener" title="Google Scholar"><i class="fa-solid fa-graduation-cap" aria-hidden="true"></i></a>
        <a href="https://orcid.org/0000-0002-7112-150X" target="_blank" rel="noopener" title="ORCID"><i class="fa-brands fa-orcid" aria-hidden="true"></i></a>
        <a href="https://github.com/Khamies/" target="_blank" rel="noopener" title="GitHub"><i class="fa-brands fa-github" aria-hidden="true"></i></a>
        <a href="https://www.linkedin.com/in/khamiesw/" target="_blank" rel="noopener" title="LinkedIn"><i class="fa-brands fa-linkedin" aria-hidden="true"></i></a>
      </div>
    </div>

    <!-- Text -->
    <div class="text">
      <h6 style="letter-spacing:.3px;opacity:.85;margin:0 0 .25rem 0;">Welcome. Salut. مرحباً.</h6>
      <h2 style="margin:0 0 12px 0;">About Waleed Khamies</h2>
      <img alt="decorative line" src="/assets/images/headingline.png" style="margin:0 0 20px 0;">
      
        <h5 style="margin:.5rem 0 .25rem 0;">Overview</h5>
        <p>I am an Applied AI Scientist at NTWIST, where I design AI-powered solutions for scheduling and automation in the manufacturing industry.  Alongside my professional work, I pursue graduate research at the University of Alberta to advance my expertise in reinforcement learning and decision-making systems.  My focus is on creating practical, trustworthy AI that bridges cutting-edge research with real-world applications.
</p>
      
        <h5 style="margin:.5rem 0 .25rem 0;">Focus Areas</h5>
        <p>I study reinforcement learning and self-supervised methods for complex decision-making problems. In parallel, I apply machine learning in industrial settings, particularly for automating manufacturing processes. I aim to balance theoretical progress with applied impact so that systems are not only well-designed but also effective in deployment.
</p>
      
        <h5 style="margin:.5rem 0 .25rem 0;">Background</h5>
        <p>I hold a Master’s in Mathematical Sciences (Machine Learning) from the African Masters in Machine Intelligence program and a Bachelor’s in Electrical and Electronics Engineering from the University of Khartoum. Earlier experiences include research at MILA in Montreal and a robotics internship at Brown University, which strengthened my foundations and broadened my view of real-world AI challenges.
</p>
      
        <h5 style="margin:.5rem 0 .25rem 0;">Professional Experience</h5>
        <p>At NTWIST, I work full-time as an Applied AI Scientist, designing and implementing machine learning solutions to optimize industrial workflows. My focus includes reinforcement learning, semi-supervised learning, and self-supervised learning, with an emphasis on systems that adapt to practical environments. This industry work complements my academic research and helps connect theory to application.
</p>
      
      <div class="actions">
      <!--Learn More button (black bg, white text) -->
       <!--  <a href="/about/" class="themebtu">Learn More</a> -->
        <!-- Get CV button (black bg, white text) -->
        <a href="#" id="cv-open" class="themebtu" style="background:#121418;border-color:#121418;color:#fff;">Get CV</a>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div id="cv-modal" role="dialog" aria-modal="true" aria-labelledby="cv-title">
    <div class="sheet">
      <div class="hdr">
        <h3 id="cv-title" style="margin:0;font-size:1.1rem;">Get Waleed's CV</h3>
        <button type="button" class="close" id="cv-close" aria-label="Close">×</button>
      </div>
      <p class="sub">Enter your details to receive a 30-minute, single-use download link.</p>

      <form id="cv-form" novalidate>
        <!-- Honeypot (spam guard) -->
        <input type="text" name="website" tabindex="-1" autocomplete="off" style="position:absolute;left:-9999px;opacity:0;">
        <div class="row">
          <div class="field">
            <label for="cv-name">Name</label>
            <input id="cv-name" name="name" required autocomplete="name" minlength="2" inputmode="text" aria-describedby="cv-name-help">
            <small id="cv-name-help" class="help">Your full name</small>
            <small class="err" id="cv-name-err" aria-live="polite"></small>
          </div>
          <div class="field">
            <label for="cv-role">Role / Organization</label>
            <input id="cv-role" name="role" required autocomplete="organization-title" minlength="2" aria-describedby="cv-role-help">
            <small id="cv-role-help" class="help">e.g., Recruiter at Company X</small>
            <small class="err" id="cv-role-err" aria-live="polite"></small>
          </div>
        </div>

        <div class="field">
          <label for="cv-email">Work Email</label>
          <input id="cv-email" name="email" type="email" required autocomplete="email" aria-describedby="cv-email-help">
          <small id="cv-email-help" class="help">e.g., yourname@organization.com</small>
          <small class="err" id="cv-email-err" aria-live="polite"></small>
        </div>

      <div id="cv-legal">
        <label style="display:flex;gap:12px;align-items:flex-start;cursor:pointer;">
          <input id="cv-consent" name="consent" type="checkbox" required style="margin-top:.25rem;">
          <span style="font-size:12px">
            I agree that my name and email may be collected for the purpose of sharing this CV. 
            Your information will be kept private and never shared with third parties.
          </span>
        </label>
      </div>


        <div id="cv-msg" role="status" aria-live="polite"></div>

        <div class="actions">
          <button class="themebtu" id="cv-submit" type="submit">Download CV</button>
          <button type="button" class="themebtu" id="cv-cancel" style="background:#eee;color:#0f0f10;border-color:#eee;">Cancel</button>
        </div>
      </form>
    </div>
  </div>

<script>
  (function () {
    const openBtn = document.getElementById('cv-open');
    const modal   = document.getElementById('cv-modal');
    const closeBtn= document.getElementById('cv-close');
    const cancel  = document.getElementById('cv-cancel');
    const form    = document.getElementById('cv-form');
    const submit  = document.getElementById('cv-submit');
    const msg     = document.getElementById('cv-msg');
    const nameI   = document.getElementById('cv-name');
    const roleI   = document.getElementById('cv-role');
    const emailI  = document.getElementById('cv-email');
    const consent = document.getElementById('cv-consent');
    const nameErr = document.getElementById('cv-name-err');
    const roleErr = document.getElementById('cv-role-err');
    const emailErr= document.getElementById('cv-email-err');

    // Use Worker host when running locally; otherwise stay relative to current host
    function apiBase() {
      const h = location.hostname;
      return (h === 'localhost' || h === '127.0.0.1') ? 'https://waleed.khamies.ca' : '';
    }

    let lastFocus = null;

    function show(){
      lastFocus = document.activeElement;
      modal.style.display = 'flex';
      document.body.style.overflow = 'hidden';
      setTimeout(() => nameI.focus(), 50);
    }
    function hide(){
      modal.style.display = 'none';
      document.body.style.overflow = '';
      msg.textContent = '';
      form.reset();
      clearErrors();
      lastFocus && lastFocus.focus();
    }

    function setError(el, errEl, text){
      el.setAttribute('aria-invalid', 'true');
      errEl.textContent = text || '';
    }
    function clearErrors(){
      [nameI, roleI, emailI].forEach(el => el.removeAttribute('aria-invalid'));
      [nameErr, roleErr, emailErr].forEach(e => e.textContent = '');
    }
    function validEmail(v){ return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v || ''); }

    // --- Work email validation ---
    const PERSONAL_DOMAINS = [
      'gmail.com','googlemail.com','outlook.com','hotmail.com','live.com','msn.com',
      'yahoo.com','ymail.com','icloud.com','me.com','mac.com','aol.com','mail.com',
      'proton.me','protonmail.com','pm.me','zoho.com','tutanota.com','tuta.com',
      'yandex.com','gmx.com','fastmail.com','hey.com','mail.ru'
    ];
    function isWorkEmail(email) {
      const m = /^[^\s@]+@([^\s@]+)$/.exec(email || '');
      if (!m) return false;
      const domain = m[1].toLowerCase().trim();
      return !PERSONAL_DOMAINS.includes(domain);
    }
    // -----------------------------

    openBtn && openBtn.addEventListener('click', e => { e.preventDefault(); show(); });
    closeBtn && closeBtn.addEventListener('click', hide);
    cancel && cancel.addEventListener('click', hide);
    modal && modal.addEventListener('click', e => { if (e.target === modal) hide(); });
    document.addEventListener('keydown', e => { if (e.key === 'Escape' && modal.style.display === 'flex') hide(); });

    form && form.addEventListener('submit', async (e) => {
      e.preventDefault(); clearErrors(); msg.style.color='inherit';

      // Basic client checks
      let ok = true;
      if ((nameI.value || '').trim().length < 2) { setError(nameI, nameErr, 'Please enter your name.'); ok = false; }
      if ((roleI.value || '').trim().length < 2) { setError(roleI, roleErr, 'Please add your role/organization.'); ok = false; }

      const rawEmail = (emailI.value || '').trim();
      if (!validEmail(rawEmail)) {
        setError(emailI, emailErr,'Enter a valid work email address.');
        ok = false;
      } else if (!isWorkEmail(rawEmail)) {
        setError(emailI, emailErr,'Please use your work email (no Gmail/Outlook/Yahoo/etc).');
        ok = false;
      }

      if (!consent.checked) { msg.style.color = 'crimson'; msg.textContent = 'Please accept the consent box.'; ok = false; }

      // Honeypot
      const hp = (new FormData(form).get('website') || '').trim();
      if (hp) { msg.style.color = 'crimson'; msg.textContent = 'Submission rejected.'; return; }
      if (!ok) return;

      submit.disabled = true;
      submit.dataset.original = submit.textContent;
      submit.textContent = 'Sending…';
      msg.textContent = '';

      const payload = {
        name:  nameI.value.trim(),
        role:  roleI.value.trim(),
        email: rawEmail
      };

      try {
        const res = await fetch(`${apiBase()}/api/cv/request`, {
          method: 'POST',
          headers: { 'content-type': 'application/json' },
          body: JSON.stringify(payload),
        });

        let data = {};
        try { data = await res.json(); } catch (_) {}

        if (!res.ok || !data.ok) {
          const msgText =
            data.error ||
            (res.status === 429 ? 'Rate limit reached, please try again soon.' :
            res.status === 400 ? 'Please double-check your inputs.' :
            'Request failed. Please try again.');
          throw new Error(msgText);
        }

        if (data.link) {
        msg.innerHTML = `
          <div style="
              padding:16px 18px;
              background:#f0fdf4;
              border:1px solid #34d399;
              border-radius:10px;
              font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
              color:#064e3b;
              font-size:.95rem;
              line-height:1.6;
              box-shadow:0 2px 6px rgba(0,0,0,0.05);
            ">
            <div style="font-weight:600;
                        font-size:1rem;
                        border-bottom:1px solid rgba(0,0,0,.05);
                        padding-bottom:4px;
                        margin-bottom:8px;">
              Link Created
            </div>

            <div>
              <a href="${data.link}" 
                 rel="noopener" target="_blank"
                 style="color:#2563eb;
                        font-weight:600;
                        text-decoration:none;
                        border-bottom:1px solid rgba(37,99,235,.4);
                        transition:all .2s;">
                 Download now
              </a>
            </div>

            <div style="margin-top:6px;
                        font-size:.83rem;
                        color:#047857;
                        opacity:.9;">
              Expires in 30 minutes
            </div>
          </div>
        `;

        } else {
          msg.textContent = 'Thanks! Check your email for the download link.';
        }
      } catch (err) {
        console.error(err);
        msg.style.color = 'crimson';
        msg.textContent  = err.message || 'Sorry, something went wrong. Please email me at waleed@khamies.ca';
      } finally {
        submit.disabled = false;
        submit.textContent = submit.dataset.original || 'Request link';
      }
    });
  })();
</script>


</section>


<!-- The below code is commented, Remove the { comment } to uncomment it -->


    </div>

    <!-- Footer -->




<!-- Footer -->
<footer class="footer gap no-bottom" style="background-color: #222 ;">
	<div class="container">
	  <div class="row">
		<div class="col-xl-3 col-lg-4 col-md-6">
		  <div class="footer-logo">
			<a href="http://localhost:4000" title="Waleed Khamies"><img alt="logo" src="http://localhost:4000/assets/img/logo.png"></a>
			<p>
			  
			</p>
		  </div>
		</div>
		<div class="col-xl-3 col-lg-4 col-md-6">
		  <div class="links">
			<h6>Additional Links</h6>
			<ul>
        	  
			  <li><a href="http://localhost:4000/about/">About</a></li>
			  
			  <li><a href="http://localhost:4000/books/">Books</a></li>
			  
			  <li><a href="https://khamiesw.substack.com">Newsletter</a></li>
			  
			  <li><a href="http://localhost:4000/contact/">Contact</a></li>
			  
			</ul>
		  </div>
		</div>
		<div class="col-xl-3 col-lg-4 col-md-6">
		  
		  <div class="latest-news">
			<h6>Latest News</h6>
			<ul>
			  
			  <li class="pt-4">
				  <p><a href="/news/2025-01-07-values-and-principles">What Matters Most: Values and Principles</a></p>
				  <span>07 January 2025</span>
			  </li>
			  
			</ul>
		  </div>
		  
		</div>

	  </div>
	  <div class="footer-bottom">
		<p>&copy; 2025 Waleed Khamies - All Rights Reserved</p>
		<ul>
      	  
		  <li><a href="https://twitter.com/khamiesw" target="_blank" title="Twitter"><i aria-hidden="true" class="fa-brands fa-twitter"></i></a></li>
		  
		  <li><a href="https://www.medium.com/@khamiesw" target="_blank" title="Medium"><i aria-hidden="true" class="fa-solid fa-m"></i></a></li>
		  
		  <li><a href="https://www.linkedin.com/in/khamiesw/" target="_blank" title="Linkedin"><i aria-hidden="true" class="fa-brands fa-linkedin-in"></i></a></li>
		  
		</ul>
	  </div>
	</div>
</footer>
<!-- Back to Top -->
    <a href="#." id="button"></a>

    <!-- Scripts --><!-- Plugins -->
<script src="/assets/plugins/jQuery/jquery.min.js"></script>
<script src="/assets/plugins/bootstrap/bootstrap.js"></script>
<script src="/assets/plugins/validate/jquery.validate.min.js"></script>
<script src="/assets/plugins/fancybox/jquery.fancybox.min.js"></script>
<script src="/assets/plugins/imagesloaded/imagesloaded.pkgd.js"></script>
<script src="/assets/plugins/isotope/isotope.pkgd.js"></script>
<script src="/assets/plugins/isotope/isotope-init.js"></script>
<script src="/assets/plugins/swiper/swiper.js"></script>
<script src="/assets/plugins/rrssb/rrssb.js"></script>
<script src="/assets/js/simple-jekyll-search.js"></script>
<script src="/assets/js/form-handler.js"></script>

<!-- Main -->
<script src="/assets/js/common.js"></script>
</body>

</html>
